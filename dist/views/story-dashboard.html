<section class="main-content"> <header> <h1>Story Stats</h1> <p>Use the table below to explore the stats of every story that CMI Curators have access to.</p> </header> <div class="data-container story-form grid_8" ng-controller="FormsController as formsController"> <h3>Add a New Story to Ishmael’s Library:</h3> <form class="story-form" name="storyForm" id="storyForm" ng-submit="formsController.submit({story: formsController.story})" enctype="multipart/form-data" novalidate> <div class="form-group"> <label for="storyTitle">Literary Title <input type="text" id="storyTitle" name="storyUrl" ng-model="formsController.story.title" required> </label> </div> <div class="form-group"> <label for="storyAuthorFirst">Author’s First Name <input type="text" id="storyAuthorFirst" name="storyAuthorFirst" ng-model="formsController.story.author_first" required> </label> </div> <div class="form-group"> <label for="storyAuthorLast">Author's Last Name <input type="text" name="storyAuthorLast" id="storyAuthorLast" ng-model="formsController.story.author_last" required> </label> </div> <div class="form-group"> <label for="storyCallLength">Audio Length (in time) <input type="text" id="storyCallLength" name="storyCallLength" ng-model="formsController.story.call_length"> </label> </div> <div class="form-group"> <label for="storyCommonTitle">Call Title <input type="text" id="storyCommonTitle" name="storyCommonTitle" ng-model="formsController.story.common_title"> </label> </div> <div class="form-group"> <label for="storyCallDate">Call Date</label> <datepicker date-format="fullDate"> <input ng-model="formsController.story.call_date" type="text" id="storyCallDate" name="storyCallDate"> </datepicker> </div> <div class="form-group"> <label>Story Status <select id="storyStatusSelect" class="select story-status-list" ng-model="formsController.story.story_type" required> <option value>-- choose status -- <option ng-repeat="status in formsController.storyTypes">{{status}} </select> </label> </div> <div class="form-group" id="storyVenueField"> <label>Attach song to a venue: <select id="storyVenueSelect" class="select" ng-model="formsController.story.venue_id"> <option value>-- choose venue -- <option ng-repeat="venue in formsController.venues" value="{{venue.id}}">{{venue.name}} </select> </label> </div> <div class="form-group" id="audioFileUpload"> <label>Audio file:</label> <input name="file" type="file" required> </div> <div class="form-group"> <input class="btn" type="submit" value="Add Story" ng-disabled="storyForm.$invalid"> </div> </form> </div> <div class="data-container grid_16"> <div class="form-group"> <label>Search by title</label> <input type="text" ng-model="search.title" placeholder="Search by story title"> </div> <div class="form-group checkbox-group"> <label> <input type="checkbox" ng-model="search.story_type" ng-true-value="'ishmaels'" ng-false-value="''">Ishmael’s Stories </label> <label> <input type="checkbox" ng-model="search.story_type" ng-true-value="'venue'" ng-false-value="''"> Venue Stories </label> <label> <input type="checkbox" ng-model="search.story_type" ng-true-value="'surprise'" ng-false-value="''"> Surprise Stories </label> <label> <input type="checkbox" ng-model="search.story_type" ng-true-value="'fixed'" ng-false-value="''"> Fixed Stories </label> </div> <table> <thead> <th>Type <th>Literary Title <th>Author’s Name <th>Call Length <th>Call Title <th>Call Date <th>Listen <th># Placements <th># Listens <th>Avg. % Listened <th>  <tbody> <tr ng-repeat="story in dashboardController.stories | filter:search | orderBy: '-id':reverse=true"> <td>{{story.story_type}} <td>{{story.title}} <td>{{story.author_first}} {{story.author_last}} <td>{{story.call_length}} <td>{{story.common_title}} <td>{{story.call_date | date:short}} <td><cmi-audio-player url="{{story.url}}"></cmi-audio-player> <td>{{story.placements || 0}} <td>{{story.listens || 0}} <td> <td><a href="javascript:void(0)" confirmed-click-action="dashboardController.deleteObject({story: story})" ng-confirm-click="Are you sure you want to delete this story: {{story.title}}">Delete</a>   </table> </div> </section>