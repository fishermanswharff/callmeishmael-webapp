<section class="main-content">
  <header>
    <h1>Story Stats</h1>
    <p>Use the table below to explore the stats of every story that CMI Curators have access to.</p>
  </header>
  <div class="data-container">
    <div class="form-group">
      <label>Search by Story Title</label>
      <input type='text' ng-model="search.title" placeholder="Search by story name">
    </div>
    <div class="form-group">
      <label>
        <input type="checkbox" ng-model="search.story_type" ng-true-value="'fixed'" ng-false-value="''">Ishmael’s Stories
      </label>
      <label>
        <input type="checkbox" ng-model="search.story_type" ng-true-value="'venue'" ng-false-value="''">
        Venue Stories
      </label>
    </div>
    <table>
      <thead>
        <th>Id</th>
        <th>Title</th>
        <th>Author’s Last Name</th>
        <th># Placements</th>
        <th># Listens</th>
        <th>Avg. % Listened</th>
        <th></th>
      </thead>
      <tbody>
        <tr ng-repeat="story in dashboardController.stories | filter:search | orderBy: '-id':reverse=true" >
          <td>{{story.id}}</td>
          <td>{{story.title}}</td>
          <td>{{story.author_last}}</td>
          <td>{{story.placements || 0}}</td>
          <td>{{story.listens || 0}}</td>
          <td></td>
          <td><a href="javascript:void(0)" confirmed-click-action="dashboardController.deleteObject({story: story})" ng-confirm-click='Are you sure you want to delete this story: {{story.title}}'>Delete</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>